<!DOCTYPE html>
<html>

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Covid</title>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-sankey@0.12.3/dist/d3-sankey.min.js" defer></script>
    <script src="./../../libs/tailwind.js"></script>
    <link href="./../css/plot.css" rel="stylesheet">
    <link href="./../css/mapMercator.css" rel="stylesheet">
    <link href="./../../dist/plot.css" rel="stylesheet">
    <script src="https://unpkg.com/d3-simple-slider"></script>
    <script src="./../js/plot.js"></script>
    <link rel="icon" type="image/png" href="./../../tristi.png" />
    <style>
      .grid-line {
        stroke: lightgrey;
        stroke-opacity: 1;
      }

      .grid line {
        stroke: black;
        stroke-opacity: 0.7;
        shape-rendering: crispEdges;
      }

      .grid path {
        stroke-width: 0;
      }

      /* path,
      line {
        stroke: black;
      } */

      .tick {
        color: black;
      }

      @keyframes drawTriangle {
        0% {
          stroke-dashoffset: 300;
        }

        100% {
          stroke-dashoffset: 0;
        }
      }

      @keyframes fadeIn {
        0% {
          opacity: 0;
        }

        100% {
          opacity: 1;
        }
      }

      /* Disegna il triangolo gradualmente */
      .animate-draw-triangle polygon {
        animation: drawTriangle 2s ease-out forwards;
        stroke-linecap: round;
        /* Arrotonda gli estremi */
        stroke-linejoin: round;
        /* Arrotonda gli angoli */
      }

      /* Ritarda la comparsa del punto esclamativo */
      .animate-fade-in-delay {
        animation: fadeIn 1s ease-in forwards;
        animation-delay: 2s;
      }
    </style>
  </head>

  <body>
    <div id='home' class="relative isolate px-6 pt-14 lg:px-8">
      <!-- Background image with semi-transparent black overlay -->
      <div class="absolute inset-0 bg-cover bg-center bg-no-repeat" style="background-image: url('./../../covid.jpg');">
        <div class="absolute inset-0 bg-black opacity-60"></div> <!-- Semi-transparent black overlay -->
      </div>

      <!-- Content -->
      <div class="relative mx-auto max-w-2xl py-16 sm:py-24 lg:py-32 -mt-20 z-10 text-center">
        <!-- Logo centrato -->
        <img src="./../../tristi.png" class="logo w-20 mx-auto block" />
        <h1 class="text-balance text-5xl font-semibold tracking-tight text-white sm:text-7xl">The Effects of Covid in
          Europe</h1>
        <p class="mt-8 text-pretty text-lg font-medium text-white sm:text-xl tracking-widest mx-auto max-w-3xl">
          The SARS-CoV-2 Coronavirus is a respiratory virus that belongs to the large family of coronaviruses (CoV).
          Coronaviruses are responsible for a range of diseases, varying in severity, from common colds to more serious
          respiratory conditions.
        </p>
      </div>

      <!-- Background gradient -->
      <div
        class="absolute inset-x-0 top-[calc(100%-13rem)] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[calc(100%-30rem)]"
        aria-hidden="true">
        <div
          class="relative left-[calc(50%+3rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 bg-gradient-to-tr from-[#923737] to-[#fc89936d] opacity-30 sm:left-[calc(50%+36rem)] sm:w-[72.1875rem]"
          style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)">
        </div>
      </div>
    </div>

    <!-- Triangolo tra le due sezioni -->
    <div class="absolute left-1/2 top-[77%] -translate-x-1/2 -translate-y-[70%] z-10">
      <div class="relative w-40 h-40"> <!-- Aumenta la grandezza -->
        <svg class="stroke-red-700 stroke-[6] fill-none animate-draw-triangle" width="160" height="160"
          viewBox="0 0 100 100">
          <polygon points="50,10 90,90 10,90" stroke-dasharray="300" stroke-dashoffset="300" stroke-linecap="round"
            stroke-linejoin="round"></polygon>
        </svg>

        <!-- Punto esclamativo che appare dopo -->
        <span
          class="absolute inset-0 flex items-center justify-center text-red-700 text-7xl font-bold opacity-0 animate-fade-in-delay mt-8">!</span>
      </div>
    </div>

    <div id="page-background" class="bg-slate-700 text-white min-h-screen flex">

      <!-- Sidebar -->
      <div class="fixed left-0 top-0 h-full flex flex-col items-center justify-center sidebar">
        <div class="relative flex flex-col items-center h-full">
          <!-- Vertical Line -->
          <div class="absolute w-1 bg-gray-200 top-0 bottom-0 left-10 transform -translate-x-1/2 z-0"></div>
          <!-- Dots -->
          <div class="absolute flex flex-col items-center space-y-20 z-10 top-[20%] left-7">
            <div class="flex items-center gap-4 w-32">
              <a href="#home" class="dotss"></a>
              <span class="px-2 py-1 rounded">Home</span>
            </div>
            <div class="flex items-center gap-4 w-32">
              <a href="#section1" class="dotss"></a>
              <span class="px-2 py-1 rounded">Covid</span>
            </div>
            <div class="flex items-center gap-4 w-32">
              <a href="#section2" class="dotss"></a>
              <span class="px-2 py-1 rounded">Economy</span>
            </div>
            <div class="flex items-center gap-4 w-32">
              <a href="#section3" class="dotss w-12"></a>
              <span class="px-2 py-1 rounded">Education & Jobs</span>
            </div>
            <div class="flex items-center w-32">
              <a href="#section4" class="dotss mr-2"></a>
              <span class="px-2 py-1 rounded">Healthcare</span>
            </div>
            <div class="flex items-center gap-4 w-32">
              <a href="#section5" class="dotss"></a>
              <span class="px-2 py-1 rounded">Outcomes</span>
            </div>
          </div>
          <script src="../js/sideMenu.js"></script>
        </div>
      </div>

      <!-- Content -->
      <div class=" w-full mt-28 ">

        <div id="section1" class="min-h-screen flex flex-col items-center justify-center gap-6">


          <h1 class="text-4xl font-bold text-center">Covid Spread</h1>

          <!--Container-->
          <div class="window">
            <!-- select metric  -->
            <div class="flex flex-col">
              <label for="map-selector" class="text-black">Select type of data:</label>
              <select id="map-selector" class=" text-black select">
                <option value="cases">Confirmed cases</option>
                <option value="deaths">Confirmed deaths</option>
                <option value="vaccines">Vaccines</option>
              </select>
            </div>
            <!-- end select metric  -->
            <div id="map-covid-container" class="self-center"></div>
            <span id="map-label" class="text-black w-fit"></span>
            <!--Switch-->
            <div class="flex-1 w-full">
              <div class="flex items-center gap-4">
                <!-- Play button -->
                <button id="play-button-covid-map" class="play-button">⏵︎</button>
                <!-- year selector -->
                <div class="w-full">
                  <label for="covid-map-year-slider" class="block text-sm text-black font-medium mb-2">
                    Select Year
                  </label>
                  <input type="range" id="covid-map-year-slider" name="covid-map-year-slider" class="year-slider">
                  <div class="flex justify-between text-sm text-gray-400">
                    <span id="min-year-text" class="text-black"></span>
                    <span id="year-1-text" class="text-black"></span>
                    <span id="year-2-text" class="text-black"></span>
                    <span id="year-3-text" class="text-black"></span>
                    <span id="max-year-text" class="text-black"></span>
                  </div>
                </div>
                <!-- end year selector -->
              </div>
            </div>
          </div>

          <!--MAP_END-->

          <!--LINECHART-->
          <div class="window">
            <h1 class="plot-title">Infection Trends by Country</h1>
            <div class="flex flex-col">
              <label for="country-selector" class=" text-black">Country</label>
              <select id="country-selector" class=" select"></select>
            </div>
            <div class="w-full h-px bg-gray-200 mt-4 mb-4"></div>

            <div id="linechart-covid"></div>
          </div>

          <!--LINECHART_END-->

          <!-- STACKEDBARCHART -->
          <div class="window">
            <h1 class="plot-title">Infection Trends by Top (2024)</h1>
            <!-- <label for="group" class=" text-black">Groups for:</label>
          <select id="group" class=" text-black">
            <option value="sesso">Sex</option>
            <option value="età">Age</option>
          </select> -->
            <!-- <div>
            <label for="metric" class=" text-black">Select type of data:</label>
            <select id="metric" class=" text-black">
              <option value="guarite">Guariti</option>
              <option value="morte">Morte</option>
              <option value="infette">Infetti</option>
            </select>
          </div> -->
            <button id="barchart-covid-button"
              class="select p-2 hover:shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
              Confirmed cases
            </button>
            <div class="w-full h-px bg-gray-200 mt-4 mb-4"></div>

            <div id="barchart-covid-container"></div>
          </div>
          <!-- STACKEDBARCHART END -->
        </div>

        <div id="section2" class="min-h-screen flex flex-col items-center gap-8">
          <!--BUBBLECHART-->
          <h1 class="text-4xl font-bold">Economy</h1>
          <div class="window">
            <h3 class="plot-title">Flow of GDP and House Price during Covid years</h3>
            <div class="flex justify-between items-center w-full">

              <div class="flex flex-col w-1/3 ">
                <label for="contry_selector_bubble" class=" text-gray-800 font-bold">Select country:</label>
                <select id="contry_selector_bubble" class=" text-gray-800 select w-40"></select>
              </div>

              <div class="flex flex-col w-1/2">
                <label for="metric_selector_bubble" class=" text-gray-800 font-bold">Select metric:</label>
                <select id="metric_selector_bubble" class=" text-gray-800 select w-40"></select>
              </div>
            </div>
            <div class="w-full h-px bg-gray-200 mt-4 mb-4"></div>

            <div id="bubblechart_container"></div>

            <div id="slider-range"></div>

            <div class="w-full h-px bg-gray-200 mt-4 mb-4"></div>

            <div>
              <p class="text-black justify-normal items-center">
                The graph shows the trend of house prices and the Gross Domestic Product (GDP)
                in the various quarters from 2020 to 2023, maintaining the relationship with
                the number of new cases in the analyzed country. The GDP indicates the percentage
                growth rate of real GDP, adjusted for seasonal fluctuations and calendar
                irregularities. It tells you whether the economy is growing or contracting
                compared to the previous quarter, by comparing consecutive periods without
                distortions due to seasonality or calendar variations, as the data has been
                adjusted for both seasonal effects (variations due to holidays, seasonal cycles)
                and calendar differences (e.g., leap years). If the value is positive,
                it means the economy has grown compared to the previous period,
                while if it is negative, it means there has been an economic contraction.
                Meanwhile, the house price provides an overall overview of the real estate
                price trends, showing the percentage change in house prices compared to the
                previous quarter.
              </p>
            </div>

          </div>
          <!--BUBBLECHART_END-->


          <!--BUBBLECHART_2-->
          <h1 class="text-4xl font-bold">Economy</h1>
          <div class="window">

            <h3 class="plot-title">Tourism inbound during Covid</h3>
            <div class="flex flex-col ">
              <label for="selector_year_2" class=" text-gray-800 font-bold">Select metric:</label>
              <select id="selector_year_2" class=" text-gray-800 select w-30"></select>
            </div>
            <div class="w-full h-px bg-gray-200 mt-4 mb-4"></div>

            <div id="bubblechart_container_2"></div>

          </div>
          <!--BUBBLECHART_2_END-->


          <!--butterflychart-->
          <h1 class="text-4xl font-bold">Economy</h1>
          <div class="window">
            <div class="flex justify-between items-center w-full">
              <!--selector-->
              <div class="flex flex-col w-1/3 ">
                <label for="data-selector-butt " class="text-gray-800  font-bold"> Type of inflaction:</label>
                <select id="data-selector-butt" class="text-gray-800  select w-70">
                  <option value="All-items HICP">General Inflation</option>
                  <option value="Food and non-alcoholic beverages">Food and non-alcoholic beverages</option>
                  <option value="Transport">Transport</option>
                  <option value="Fuels and lubricants for personal transport equipment">Fuels and lubricants for
                    personal transport equipment</option>
                  <option value="Health"> Health</option>
                  <option value="Medical products, appliances and equipment">Medical products</option>
                  <option value="Restaurants and hotels">Restaurants and hotels</option>
                  <option value="Accommodation services">Accommodation services</option>
                  <option value="Education">Education</option>
                  <option value="Communications">Communications</option>
                  <option value="Alcoholic beverages, tobacco and narcotics">Alcoholic beverages, tobacco and narcotics
                  </option>
                  <option value="Alcoholic beverages">Alcoholic beverages</option>
                </select>
              </div>
              <!--end_selector-->

              <!--slider-->
              <div class="flex flex-col w-1/2 ">
                <label for="month-slider-butt " class="text-gray-800 font-bold">Select month:</label>
                <input type="range" id="month-slider-butt" min="1" max="12" value="1"
                  class="slider w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer accent-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 text-gray-800">
                <p class="text-gray-800">Month: <span id="number-month" class="font-medium">01</span></p>
              </div>
              <!--slider_end-->
            </div>
            <div class="flex space-x-8">
              <!--selctorsyear-->
              <div class="flex flex-col w-1/8">
                <label for="selector-butt-1" class="text-gray-800  font-bold"> Year:</label>
                <select id="selector-butt-1" class="text-gray-800 select">
                  <option value="2018">2018</option>
                  <option value="2019">2019</option>
                  <option value="2020">2020</option>
                  <option value="2021">2021</option>
                  <option value="2022">2022</option>
                  <option value="2023">2023</option>
                </select>
              </div>

              <div class="flex flex-col w-1/8">
                <label for="selector-butt-2" class="text-gray-800  font-bold"> Year:</label>
                <select id="selector-butt-2" class="text-gray-800 select">
                  <option value="2018">2018</option>
                  <option value="2019">2019</option>
                  <option value="2020">2020</option>
                  <option value="2021">2021</option>
                  <option value="2022">2022</option>
                  <option value="2023">2023</option>
                </select>
              </div>
            </div>
            <!--selctorsyear-->
            <div class="w-full h-px bg-gray-200 mt-4 mb-4"></div>


            <div id="butterflychart_container" class="flex justify-center items-center w-full "></div>

          </div>
          <!--butterflychart_END-->

        </div>

        <!-- Education & Jobs -->
        <div id="section3" class="min-h-screen flex flex-col items-center justify-center gap-6">
          <h2 class="text-3xl font-semibold">Education & Jobs</h2>
          <!--DUMBBELLCHART 1-->
          <div class="window">
            <h3 class="plot-title">COVID-19 impact on Education (<span class="text-[steelblue]">Males</span>, <span
                class="text-[#FF69B4]">Females</span> and <span class="text-[green]">Total</span>)</h3>
            <div class="flex flex-col">
              <label for="country-selector-dumbbell-enrollments" class="text-black">Country</label>
              <select id="country-selector-dumbbell-enrollments" class="select"></select>
            </div>
            <div id="dumbbell-enrollments"></div>
          </div>
          <!--DUMBBELLCHART_END 1-->
          <!-- DUMBBELLCHART 2 -->
          <div class="window">
            <h3 class="plot-title">COVID-19 impact on Unemployment (<span class="text-[steelblue]">Males</span>, <span
                class="text-[#FF69B4]">Females</span> and <span class="text-[green]">Total</span>)</h3>
            <div class="flex flex-col mb-6">
              <label for="country-selector-dumbbell-unemployments" class="text-black">Country</label>
              <select id="country-selector-dumbbell-unemployments" class="select"></select>
            </div>
            <div id="dumbbell-unemployments"></div>
          </div>
          <!-- DUMBBELLCHART_END 2 -->
          <!-- BUBBLE -->
          <div class="window gap-12">
            <h3 class="plot-title">Lockdown Impact on Education (2019-2021)</h3>
            <div class="flex justify-center">
              <div id="bubble-lockdown"></div>
              <div id="bubble-lockdown-legend"></div>
            </div>
          </div>
          <!-- BUBBLE END 2 -->
        </div>
        <!-- Education & Jobs END -->

        <div id="section4" class="min-h-screen flex items-center justify-center">
          <h2 class="text-3xl font-semibold">Section 4</h2>

          <!--HISTOGRAM-->


          <!--HISTOGRAM_END-->

          <!--MAP-->
          <!--MAP_END-->

          <!--HIGHLIGHTS-->

          <!--HIGHLIGHTS_END-->

        </div>
        <div id="section5" class="min-h-screen flex flex-col items-center justify-center gap-6">
          <h2 class="text-3xl font-semibold">Section 5</h2>
          <!--WAFFLE CHART-->
          <div class="window">
            <h3 class="plot-title">Did COVID-19 affect the number of deaths for mental disorders?</h3>
            <div id="waffle-options" class="options flex justify-between">
              <div id="waffle-categories" class="flex flex-col gap-1">
                <p class="text-black">Select the causes of deaths to show:</p>
                <div id="waffle-categories-options" class="flex gap-4">
                  <div>
                    <input type="checkbox" id="waffle-covid" name="waffle-metric" value="COVID-19" checked
                      class="cursor-pointer">
                    <label for="waffle-covid" class="text-black cursor-pointer">Covid</label>
                  </div>
                  <div>
                    <input type="checkbox" id="waffle-mental-disturb" name="waffle-metric"
                      value="Mental and behavioural disorders" class="cursor-pointer" checked>
                    <label for="waffle-mental-disturb" class="text-black cursor-pointer">Mental and behavioural
                      disorders</label>
                  </div>
                  <div>
                    <input type="checkbox" id="waffle-self-harm" name="waffle-metric" value="Intentional self-harm"
                      class="cursor-pointer" checked>
                    <label for="waffle-self-harm" class="text-black cursor-pointer">Intentional self-harm</label>
                  </div>
                </div>
              </div>
              <div id="waffle-country">
                <label class="text-black">Select country:</p>
                  <select id="waffle-country-selector" class="text-black"></select>
              </div>
            </div>
            <div id="waffle-years" class="w-full flex justify-around margin-top-4">
              <div class="flex flex-col">
                <label for="waffle-year-1" class="text-black">Select the first year:</label>
                <select id="waffle-year-1" class="text-black"></select>
              </div>
              <div class="flex flex-col">
                <label for="waffle-year-2" class="text-black">Select the second year:</label>
                <select id="waffle-year-2" class="text-black"></select>
              </div>
            </div>
            <div id="waffle-deaths-per-dot" class="w-full flex justify-center items-center gap-1"></div>
            <div id="waffle-chart-container" class="flex justify-center"></div>
          </div>
          <!--WAFFLE CHART_END-->

          <!-- BAR CHART HEALTH START -->
          <div class="window">
            <h3 class="plot-title">Bar Chart title</h3>
            <div id="age-range-selector"></div>
            <label for="age-range">Select Age Range:</label>
            <select id="age-range">
              <option value="Total">All Ages</option>
              <option value="0-14">0-14</option>
              <option value="15-24">15-24</option>
              <option value="25-64">25-64</option>
              <option value="65+">65+</option>
            </select>
            <div id="bar-chart-health-container">
            </div>
          </div>

          <!-- BAR CHART HEALTH END -->

          <!-- BEESWARM START -->
          <div class="window">
            <h3 class="plot-title">Beeswarm title</h3>
            <div id="beeswarm-container">
              <div class="flex justify-center items-center gap-2">
                <button id="play-button" class="play-button bg-blue-500">⏵︎</button>
                <div id="beeswarm-slider-container" class="year-slider">
                  <input type="range" id="beeswarm-slider" class="w-full accent-blue-500">
                  <div id="slider-ticks" class="flex justify-between">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- BEESWARM END -->
        </div>
      </div>
    </div>

    </div>

    <!-- COVID -->
    <script type="module" src="./../js/covidspread/map.js"></script>
    <script type="module" src="./../js/covidspread/linechart.js"></script>
    <script type="module" src="./../js/covidspread/stackedbarchart.js"></script>

    <!-- ECONOMY -->
    <script src="./../js/economy/bubblechart.js"></script>
    <script src="./../js/economy/bubblechart_percentage.js"></script>
    <script src="./../js/lockdowns/bubbleEnrollments.js"></script>
    <script src="./../js/economy/butterflychart.js"></script>

    <!-- EDUCATION -->
    <script type="module" src="../js/education_jobs/dumbbellEnrollments.js"></script>
    <script type="module" src="../js/education_jobs/dumbbellUnemployment.js"></script>
    <script type="module" src="../js/education_jobs/bubbleLockdown.js"></script>

    <!-- HEALTHCARE -->
    <script type="module" src="./../js/healthcare/waffleChartHealth.js"></script>
    <script type="module" src="./../js/healthcare/barChartHealth.js"></script>
    <script type="module" src="./../js/healthcare/beeswarmHealth.js"></script>

    <script type="module" src="./../js/utils.js"></script>

  </body>

</html>